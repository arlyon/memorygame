<style>
    #container {
        width:100%;
        height:100%;
        display: flex;
        flex-direction: row;
    }

    #main {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: auto;
        flex-direction: row;
        flex-wrap: wrap;
        width:440px;
        perspective: 800px;
    }

    #squares {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: auto;
        flex-direction: row;
        flex-wrap: wrap;
        width:440px;
        perspective: 800px;
    }

    #scores {
        flex-grow: 1;
        display:flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    #score {

    }


    .card {
        width:100px;
        margin:5px;
        transition: all 0.3s ease;
        height:100px;
        border: 1px solid black;
        box-sizing: border-box;
        transform-style: preserve-3d;
    }
    .card:hover {
        -webkit-transform: scale(1.1);
        -moz-transform: scale(1.1);
        -ms-transform: scale(1.1);
        -o-transform: scale(1.1);
        transform: scale(1.1);
    }
    .card.hidden:hover {
        -webkit-transform: scale(1.1) rotateX( 180deg );
        -moz-transform: scale(1.1) rotateX( 180deg );
        -ms-transform: scale(1.1) rotateX( 180deg );
        -o-transform: scale(1.1) rotateX( 180deg );
        transform: scale(1.1) rotateX( 180deg );
    }
    .hidden {
        background-color: lightgrey !important;
        transform: rotateX( 180deg )
    }
    .flip-enter {
        transform: rotateX( 90deg ) !important;
        transition: all 0.3s ease-in;
    }
    .flip-exit {
        transform: rotateX( 0deg ) !important;
        transition: all 0.3s ease-out;
    }
</style>

<div id="container">
    <div id="main">
        <div id="squares"></div>
    </div>
    <div id="scores">
        <h1>Lower Is Better!</h1>
        <h1 id="score">0</h1>
    </div>
</div>

<script>
    cards = [
        "lightblue",
        "lightcoral",
        "lightpink",
        "lightseagreen",
        "goldenrod",
        "indigo",
        "seagreen",
        "teal",
        "lightblue",
        "lightcoral",
        "lightpink",
        "lightseagreen",
        "goldenrod",
        "indigo",
        "seagreen",
        "teal"
    ];

    var clicked = [];

    var container = document.getElementById('holder')

    var shuffle = function(cards) {
        console.log(cards.length);
        console.log(cards);
        for (var i=0; i<16;i++) {
            console.log(i);
            var card = Math.floor(Math.random()*(16-i));
            var div = document.createElement('div');
            div.className = 'card hidden';
            div.setAttribute('data-color', cards[card]);
            div.style.backgroundColor = cards[card];
            squares.appendChild(div);
            cards.splice(card, 1);

            div.addEventListener('click', function () {
                var element = this;

                if (clicked.indexOf(element) == -1 && element.className.indexOf("hidden") != -1) {
                    element.className = "card";
                    clicked.push(this);

                    if (clicked.length == 2) {
                        if (clicked[0].getAttribute('data-color') == clicked[1].getAttribute('data-color')) {
                            for (var click in clicked) {
                                clicked[click].setAttribute('data-found', true);
                            }
                        } else {
                            clicked.forEach(function(item) {
                                setTimeout(function() {
                                    item.className = "card hidden"
                                }, 1000)
                            });
                        }
                        clicked = []
                        if (document.getElementsByClassName("hidden").length == 0) {
                            alert('Win')
                        }
                        document.getElementById("score").innerText = parseInt(document.getElementById("score").innerText)+1
                    }
                }
            })
        }
    };


    shuffle(cards);

    document.onload = function() {
    }
</script>